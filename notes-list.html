<div class="panel panel-default">
  <div class="panel-heading">
    <h2 class="panel-title"><i class="glyphicon glyphicon-list"></i> My Notes</h2>
  </div>
  <ul class"list-group" id="notes-list">
  </ul>
</div>

<li class="list-group-item notes-item hidden">
  <h3 class="list-group-item-heading title"></h3>
  <p class="text-muted timestamp"></p>
  <p class="body"></p>
</li>

<script>
  $(function() {
    var manager = new NotesManager();
    var list = $("#notes-list");
    var template = $(".notes-item.hidden");

    function reload() {
      list.empty();

      var notes = manager.load();

      $.each(notes, function(_, note) {
        var item = template.clone().removeClass("hidden");
        console.log(note);

        item.find(".title").text(note.title);
        item.find(".timestamp").text(note.timestamp);
        item.find(".body").text(note.body);

        list.append(item);
      });
    }

    $(document).on(manager.saveEvent, function() {
      reload();
    });

    reload();
  })
</script>
